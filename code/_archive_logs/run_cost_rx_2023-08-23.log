NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WARNING: The SAS/STAT product with which GENMOD is associated will be expiring soon, 
         and is currently in warning mode to indicate this upcoming expiration. Please 
         run PROC SETINIT to obtain more information on your warning period.
MPRINT(HURDLE):   PROC GENMOD DATA = data.analysis_final;
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI 
Eligible Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') 
rae_person_new(ref='3') age_cat(ref='5') fqhc(ref ='0') bh_oth16(ref='0') 
bh_oth17(ref='0') bh_oth18(ref='0') bh_er16(ref='0') bh_er17(ref='0') bh_er18(ref='0') 
bh_hosp16(ref='0') bh_hosp17(ref='0') bh_hosp18(ref='0') adj_pd_total_16cat(ref='0') 
adj_pd_total_17cat(ref='0') adj_pd_total_18cat(ref='0') ind_rx_cost;
MPRINT(HURDLE):   MODEL ind_rx_cost(event='1') = int int_imp time season1 season2 
season3 budget_grp_new race sex rae_person_new age_cat fqhc bh_oth16 bh_oth17 bh_oth18 
bh_er16 bh_er17 bh_er18 bh_hosp16 bh_hosp17 bh_hosp18 adj_pd_total_16cat 
adj_pd_total_17cat adj_pd_total_18cat / DIST=binomial;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type=exch ;
MPRINT(HURDLE):   store out.cost_rx_pmodel;
MPRINT(HURDLE):   run;


NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: PROC GENMOD is modeling the probability that ind_rx_cost='1'. One way to change 
      this to model the probability that ind_rx_cost='0' is to specify the DESCENDING 
      option in the PROC statement.
NOTE: Algorithm converged.
NOTE: Algorithm converged.
NOTE: The GENMOD procedure generated the model item store OUT.COST_RX_PMODEL.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           11:59.07
      cpu time            11:15.18
      NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

WARNING: The SAS/STAT product with which GENMOD is associated will be expiring soon, and is 
         currently in warning mode to indicate this upcoming expiration. Please run PROC SETINIT to 
         obtain more information on your warning period.
MPRINT(HURDLE):   PROC GENMOD DATA = data.analysis_final;
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI Eligible 
Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') rae_person_new(ref='3') 
age_cat(ref='5') fqhc(ref ='0') bh_oth16(ref='0') bh_oth17(ref='0') bh_oth18(ref='0') 
bh_er16(ref='0') bh_er17(ref='0') bh_er18(ref='0') bh_hosp16(ref='0') bh_hosp17(ref='0') 
bh_hosp18(ref='0') adj_pd_total_16cat(ref='0') adj_pd_total_17cat(ref='0') 
adj_pd_total_18cat(ref='0') ind_cost_rx_cost;
ERROR: Variable IND_COST_RX_COST not found.
ERROR: Variable IND_COST_RX_COST not found.
MPRINT(HURDLE):   MODEL ind_cost_rx_cost(event='1') = int int_imp time season1 season2 season3 
budget_grp_new race sex rae_person_new age_cat fqhc bh_oth16 bh_oth17 bh_oth18 bh_er16 bh_er17 
bh_er18 bh_hosp16 bh_hosp17 bh_hosp18 adj_pd_total_16cat adj_pd_total_17cat adj_pd_total_18cat / 
DIST=binomial;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type=exch ;
MPRINT(HURDLE):   store out.cost_rx_pmodel;
MPRINT(HURDLE):   run;


NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      
MPRINT(HURDLE):   TITLE 'Cost Model';


MPRINT(HURDLE):   PROC GENMOD DATA = data.analysis_final desc;
MPRINT(HURDLE):   WHERE adj_pd_cost_rx_tc > 0;
ERROR: Variable adj_pd_cost_rx_tc is not on file DATA.ANALYSIS_FINAL.
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI Eligible 
Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') rae_person_new(ref='3') 
age_cat(ref='5') fqhc(ref ='0') bh_oth16(ref='0') bh_oth17(ref='0') bh_oth18(ref='0') 
bh_er16(ref='0') bh_er17(ref='0') bh_er18(ref='0') bh_hosp16(ref='0') bh_hosp17(ref='0') 
bh_hosp18(ref='0') adj_pd_total_16cat(ref='0') adj_pd_total_17cat(ref='0') 
adj_pd_total_18cat(ref='0') ;
ERROR: Variable ADJ_PD_COST_RX_TC not found.
MPRINT(HURDLE):   MODEL adj_pd_cost_rx_tc = int int_imp time season1 season2 season3 budget_grp_new 
race sex rae_person_new age_cat fqhc bh_oth16 bh_oth17 bh_oth18 bh_er16 bh_er17 bh_er18 bh_hosp16 
bh_hosp17 bh_hosp18 adj_pd_total_16cat adj_pd_total_17cat adj_pd_total_18cat / dist=gamma link=log ;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type = exch;
MPRINT(HURDLE):   store out.cost_rx_cmodel;
MPRINT(HURDLE):   RUN;


NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      
MPRINT(HURDLE):   TITLE;
MPRINT(HURDLE):   * OUT:[intgroup] IN :[&dat &dat] the group of interest (int, time-invariant 
intervention status) is set twice, the top in the stack will be recoded as not participants 
(unexposed) the bottom group keeps the int=1 status------------------------------------------------ 
;


MPRINT(HURDLE):   data intgroup;
MPRINT(HURDLE):   set data.analysis_final data.analysis_final (in = b);
MPRINT(HURDLE):   where int_imp = 1;
MPRINT(HURDLE):   if ^b then int_imp = 0;
MPRINT(HURDLE):   exposed = b;
MPRINT(HURDLE):   run;

NOTE: The DATA step has been abnormally terminated.
WARNING: The data set WORK.INTGROUP may be incomplete.  When this step was stopped there were 0 
         observations and 40 variables.
NOTE: DATA statement used (Total process time):
      real time           5.90 seconds
      cpu time            0.20 seconds
      

323  %LET outcome = rx;
324  %hurdle  (dat=&dat, pvar=ind_&outcome._cost, cvar=adj_pd_&outcome._tc, dv=cost_&outcome.);
MLOGIC(HURDLE):  Beginning execution.
MLOGIC(HURDLE):  Parameter DAT has value data.analysis_final
MLOGIC(HURDLE):  Parameter PVAR has value ind_rx_cost
MLOGIC(HURDLE):  Parameter CVAR has value adj_pd_rx_tc
MLOGIC(HURDLE):  Parameter DV has value cost_rx
MPRINT(HURDLE):   OPTIONS SOURCE;
MLOGIC(HURDLE):  %LET (variable name is ROOT)
MLOGIC(HURDLE):  %LET (variable name is SCRIPT)
MPRINT(HURDLE):   * remove .sas to use in log, pdf;
MLOGIC(HURDLE):  %LET (variable name is TODAY)
MLOGIC(HURDLE):  %LET (variable name is LOG)
MPRINT(HURDLE):   PROC PRINTTO LOG = 
"S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\cost_rx_int_imp_2023-08-23.log";
MPRINT(HURDLE):   RUN;

NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

MPRINT(HURDLE):   PROC GENMOD DATA = data.analysis_final;
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI Eligible 
Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') rae_person_new(ref='3') 
age_cat(ref='5') fqhc(ref ='0') bh_oth16(ref='0') bh_oth17(ref='0') bh_oth18(ref='0') 
bh_er16(ref='0') bh_er17(ref='0') bh_er18(ref='0') bh_hosp16(ref='0') bh_hosp17(ref='0') 
bh_hosp18(ref='0') adj_pd_total_16cat(ref='0') adj_pd_total_17cat(ref='0') 
adj_pd_total_18cat(ref='0') ind_rx_cost;
MPRINT(HURDLE):   MODEL ind_rx_cost(event='1') = int int_imp time season1 season2 season3 
budget_grp_new race sex rae_person_new age_cat fqhc bh_oth16 bh_oth17 bh_oth18 bh_er16 bh_er17 
bh_er18 bh_hosp16 bh_hosp17 bh_hosp18 adj_pd_total_16cat adj_pd_total_17cat adj_pd_total_18cat / 
DIST=binomial;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type=exch ;
MPRINT(HURDLE):   store out.cost_rx_pmodel;
MPRINT(HURDLE):   run;


NOTE: The GENMOD procedure deleted the model item store OUT.COST_RX_PMODEL because of incomplete 
      information for a subsequent analysis.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           10.58 seconds
      cpu time            3.01 seconds
      


NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           1:26.07
      cpu time            6.21 seconds
      
NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

WARNING: The SAS/STAT product with which GENMOD is associated will be expiring soon, and is 
         currently in warning mode to indicate this upcoming expiration. Please run PROC SETINIT to 
         obtain more information on your warning period.
MPRINT(HURDLE):   PROC GENMOD DATA = data.analysis_final;
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI Eligible 
Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') rae_person_new(ref='3') 
age_cat(ref='5') fqhc(ref ='0') bh_oth16(ref='0') bh_oth17(ref='0') bh_oth18(ref='0') 
bh_er16(ref='0') bh_er17(ref='0') bh_er18(ref='0') bh_hosp16(ref='0') bh_hosp17(ref='0') 
bh_hosp18(ref='0') adj_pd_total_16cat(ref='0') adj_pd_total_17cat(ref='0') 
adj_pd_total_18cat(ref='0') ind_rx_cost;
MPRINT(HURDLE):   MODEL ind_rx_cost(event='1') = int int_imp time season1 season2 season3 
budget_grp_new race sex rae_person_new age_cat fqhc bh_oth16 bh_oth17 bh_oth18 bh_er16 bh_er17 
bh_er18 bh_hosp16 bh_hosp17 bh_hosp18 adj_pd_total_16cat adj_pd_total_17cat adj_pd_total_18cat / 
DIST=binomial;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type=exch ;
MPRINT(HURDLE):   store out.cost_rx_pmodel;
MPRINT(HURDLE):   run;


NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: PROC GENMOD is modeling the probability that ind_rx_cost='1'. One way to change this to model 
      the probability that ind_rx_cost='0' is to specify the DESCENDING option in the PROC 
      statement.
NOTE: Algorithm converged.
NOTE: Algorithm converged.
NOTE: The GENMOD procedure generated the model item store OUT.COST_RX_PMODEL.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           11:55.83
      cpu time            11:08.34
      

MPRINT(HURDLE):   TITLE 'Cost Model';
MPRINT(HURDLE):   PROC GENMOD DATA = data.analysis_final desc;
MPRINT(HURDLE):   WHERE adj_pd_rx_tc > 0;
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI Eligible 
Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') rae_person_new(ref='3') 
age_cat(ref='5') fqhc(ref ='0') bh_oth16(ref='0') bh_oth17(ref='0') bh_oth18(ref='0') 
bh_er16(ref='0') bh_er17(ref='0') bh_er18(ref='0') bh_hosp16(ref='0') bh_hosp17(ref='0') 
bh_hosp18(ref='0') adj_pd_total_16cat(ref='0') adj_pd_total_17cat(ref='0') 
adj_pd_total_18cat(ref='0') ;
MPRINT(HURDLE):   MODEL adj_pd_rx_tc = int int_imp time season1 season2 season3 budget_grp_new race 
sex rae_person_new age_cat fqhc bh_oth16 bh_oth17 bh_oth18 bh_er16 bh_er17 bh_er18 bh_hosp16 
bh_hosp17 bh_hosp18 adj_pd_total_16cat adj_pd_total_17cat adj_pd_total_18cat / dist=gamma link=log ;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type = exch;
MPRINT(HURDLE):   store out.cost_rx_cmodel;
MPRINT(HURDLE):   RUN;


NOTE: The DESCENDING option applies only to the multinomial distribution with ordinal response.
NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: Algorithm converged.
NOTE: Algorithm converged.
NOTE: The GENMOD procedure generated the model item store OUT.COST_RX_CMODEL.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           16:17.68
      cpu time            16:17.15
      

MPRINT(HURDLE):   TITLE;
MPRINT(HURDLE):   * OUT:[intgroup] IN :[&dat &dat] the group of interest (int, time-invariant 
intervention status) is set twice, the top in the stack will be recoded as not participants 
(unexposed) the bottom group keeps the int=1 status------------------------------------------------ 
;
MPRINT(HURDLE):   data intgroup;
MPRINT(HURDLE):   set data.analysis_final data.analysis_final (in = b);
MPRINT(HURDLE):   where int_imp = 1;
MPRINT(HURDLE):   if ^b then int_imp = 0;
MPRINT(HURDLE):   exposed = b;
MPRINT(HURDLE):   run;

NOTE: There were 1295339 observations read from the data set DATA.ANALYSIS_FINAL.
      WHERE int_imp=1;
NOTE: There were 1295339 observations read from the data set DATA.ANALYSIS_FINAL.
      WHERE int_imp=1;
NOTE: The data set WORK.INTGROUP has 2590678 observations and 40 variables.
NOTE: DATA statement used (Total process time):
      real time           3.34 seconds
      cpu time            3.25 seconds
      

MPRINT(HURDLE):   * the predictions for util and cost will be made for each person twice, once 
exposed and once unexposed;
MPRINT(HURDLE):   * OUT:[P_INTGROUP] IN :[out=out.&dv._pmodel] prob of 
util------------------------------------------------ ;
MPRINT(HURDLE):   proc plm restore=out.cost_rx_pmodel;
MPRINT(HURDLE):   score data=intgroup out=p_intgroup predicted=p_prob / ilink;
MPRINT(HURDLE):   run;

NOTE: The data set WORK.P_INTGROUP has 2590678 observations and 41 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           7.92 seconds
      cpu time            6.23 seconds
      

MPRINT(HURDLE):   * OUT:[CP_INTGROUP] IN :[out=out.&dv._cmodel] prob of cost 
-------------------------------------------------;
MPRINT(HURDLE):   proc plm restore=out.cost_rx_cmodel;
MPRINT(HURDLE):   score data=p_intgroup out=cp_intgroup predicted=p_cost / ilink;
MPRINT(HURDLE):   run;

NOTE: The data set WORK.CP_INTGROUP has 2590678 observations and 42 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           5.53 seconds
      cpu time            5.53 seconds
      

MPRINT(HURDLE):   * OUT:[out.&dv._mean] IN:[cp_intgroup] Person average cost is 
calculated------------------------------;
MPRINT(HURDLE):   data out.cost_rx_mean;
MPRINT(HURDLE):   set cp_intgroup;
MPRINT(HURDLE):   a_cost = p_prob*p_cost;
MPRINT(HURDLE):  * (1-p term = 0);
MPRINT(HURDLE):   run;

NOTE: There were 2590678 observations read from the data set WORK.CP_INTGROUP.
NOTE: The data set OUT.COST_RX_MEAN has 2590678 observations and 43 variables.
NOTE: DATA statement used (Total process time):
      real time           13.44 seconds
      cpu time            1.00 seconds
      

MPRINT(HURDLE):   * OUT:[out.&dv._avp] IN:[out.&dv._mean] Group average cost is calculated and 
contrasted-----------------;
MPRINT(HURDLE):   proc sql;
MPRINT(HURDLE):   create table out.cost_rx_avp as select mean(case when exposed=1 then a_cost else 
. end ) as cost_exposed, mean(case when exposed=0 then a_cost else . end ) as cost_unexposed, 
calculated cost_exposed - calculated cost_unexposed as cost_diff from out.cost_rx_mean;
NOTE: Table OUT.COST_RX_AVP created, with 1 rows and 3 columns.

MPRINT(HURDLE):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           8.61 seconds
      cpu time            0.31 seconds
      

MPRINT(HURDLE):   PROC PRINTTO;
MPRINT(HURDLE):   RUN;

