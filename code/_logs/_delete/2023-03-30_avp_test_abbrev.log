NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA.
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7)
      Licensed to UNIVERSITY OF COLORADO SYSTEM - SFA - T&R, Site 70082279.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:

      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.19041  Workstation

NOTE: SAS initialization used:
      real time           0.81 seconds
      cpu time            0.68 seconds

1
2    proc options option=memsize value;
3    run;

    SAS (r) Proprietary Software Release 9.4  TS1M7

Option Value Information For SAS Option MEMSIZE
    Value: 12884901888
    Scope: SAS Session
    How option value set: Config File
    Config file name:
            C:\Program Files\SASHome\SASFoundation\9.4\SASV9.CFG

NOTE: PROCEDURE OPTIONS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


4    proc contents data = data.Analysis_dataset;
NOTE: Writing HTML Body file: sashtml.htm
ERROR: Libref DATA is not assigned.
5    RUN ;

NOTE: Statements not processed because of errors noted above.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.27 seconds
      cpu time            0.17 seconds

NOTE: The SAS System stopped processing this step because of errors.

6    %INCLUDE "S:/FHPC/DATA/HCPF_DATA_files_SECURE/Kim/isp/isp_utilization/code/util_00_config.sas";
NOTE: Libref DATA was successfully assigned as follows:
      Engine:        V9
      Physical Name: S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\data
NOTE: Libref INT was successfully assigned as follows:
      Engine:        V9
      Physical Name: S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\data\interim
NOTE: Library OUT does not exist.
NOTE: Libref ANA was successfully assigned as follows:
      Engine:        V9
      Physical Name: S:\FHPC\DATA\HCPF_Data_files_SECURE\HCPF_SqlServer\AnalyticSubset

74   LIBNAME ANA CLEAR ;
NOTE: Libref ANA has been deassigned.
75   LIBNAME INT CLEAR ;
NOTE: Libref INT has been deassigned.

76   LIBNAME OUT clear ;
NOTE: Libref OUT has been deassigned.

77
78   proc contents data = data.Analysis_dataset;
79   RUN ;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds


80   * probability model ;
81   proc gee data  = data.analysis_dataset desc;
82     class mcaid_id int int_imp time ind_cost_pc ;
83     model ind_cost_pc = int int_imp time / dist = binomial link = logit ;
84     repeated subject = mcaid_id / type = exch;
85     store p_model;
86   run;

NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: PROC GEE is modeling the probability that ind_cost_pc='1'.
NOTE: The GEE procedure generated the model item store WORK.P_MODEL.
NOTE: PROCEDURE GEE used (Total process time):
      real time           3:54.72
      cpu time            3:17.42


87
88   * positive cost model ;
89   proc gee data  = data.analysis_dataset desc;
90   where cost_pc_tc > 0;
91   class mcaid_id int int_imp time ind_cost_pc ;
92   model cost_pc_tc = int int_imp time / dist = gamma link = log ;
93   repeated subject = mcaid_id / type = exch;
94   store c_model;
95   run;

NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: The CLASS variable ind_cost_pc has only one level: '1'.
NOTE: The GEE procedure generated the model item store WORK.C_MODEL.
NOTE: PROCEDURE GEE used (Total process time):
      real time           2:13.72
      cpu time            1:35.87


96   %LET dat = data.analysis_dataset;
97   data intgroup;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis_dataset
98     set &dat &dat (in = b);
SYMBOLGEN:  Macro variable DAT resolves to data.analysis_dataset
99     where int = 1;
100
101    if ^b then int = 0;
102
103    exposed = b;
104  run;

NOTE: There were 1785893 observations read from the data set DATA.ANALYSIS_DATASET.
      WHERE int=1;
NOTE: There were 1785893 observations read from the data set DATA.ANALYSIS_DATASET.
      WHERE int=1;
NOTE: The data set WORK.INTGROUP has 3571786 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           40.58 seconds
      cpu time            2.85 seconds


105  proc plm restore=p_model;
106     score data=intgroup out=p_intgroup predicted=p_prob / ilink;
107  run;

NOTE: The data set WORK.P_INTGROUP has 3571786 observations and 39 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           3.12 seconds
      cpu time            3.12 seconds


108  proc plm restore=c_model;
109     score data=p_intgroup out=cp_intgroup predicted=p_cost / ilink;
110  run;

NOTE: The data set WORK.CP_INTGROUP has 3571786 observations and 40 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           2.71 seconds
      cpu time            2.71 seconds


111  data meanCost;
112    set cp_intgroup;
113
114    a_cost = p_prob*p_cost;* (1-p term = 0);
115
116  run;

NOTE: There were 3571786 observations read from the data set WORK.CP_INTGROUP.
NOTE: The data set WORK.MEANCOST has 3571786 observations and 41 variables.
NOTE: DATA statement used (Total process time):
      real time           0.95 seconds
      cpu time            0.90 seconds


117  proc sql;
118
119  create table apv_cost_pc as
120    select mean(case when exposed=1 then a_cost else . end ) as cost_exposed,
121           mean(case when exposed=0 then a_cost else . end ) as cost_unexposed,
122    calculated cost_exposed - calculated cost_unexposed as cost_diff
123    from meanCost;
NOTE: Table WORK.APV_COST_PC created, with 1 rows and 3 columns.

124
125  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.57 seconds
      cpu time            0.54 seconds


126  proc print data = apv_cost_pc;
127  run;

NOTE: There were 1 observations read from the data set WORK.APV_COST_PC.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


128  proc plm restore=p_model;
129     score data=intgroup out=p_intgroup predicted=p_prob / ilink;
130  run;

NOTE: The data set WORK.P_INTGROUP has 3571786 observations and 39 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           3.14 seconds
      cpu time            3.15 seconds


131  data short_a8;
132  set  data.a8 (obs=2000);
133  RUN;

NOTE: There were 2000 observations read from the data set DATA.A8.
NOTE: The data set WORK.SHORT_A8 has 2000 observations and 31 variables.
NOTE: DATA statement used (Total process time):
      real time           0.16 seconds
      cpu time            0.03 seconds


134  proc sql;
135  create table want as
136  select mcaid_id
137       , int
138  FROM short_a8
139  group by mcaid_id, int;
WARNING: A GROUP BY clause has been transformed into an ORDER BY clause because neither the SELECT
         clause nor the optional HAVING clause of the associated table-expression referenced a
         summary function.
NOTE: Table WORK.WANT created, with 2000 rows and 2 columns.

140  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


141  proc sql;
142  create table want as
143  select mcaid_id
144       , int
145  FROM short_a8
146  group by mcaid_id ;
WARNING: A GROUP BY clause has been transformed into an ORDER BY clause because neither the SELECT
         clause nor the optional HAVING clause of the associated table-expression referenced a
         summary function.
NOTE: Table WORK.WANT created, with 2000 rows and 2 columns.

147  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


148  proc sql;
149  create table want as
150  select mcaid_id
151       , int
152  FROM short_a8
153  group by mcaid_id, int;
WARNING: A GROUP BY clause has been transformed into an ORDER BY clause because neither the SELECT
         clause nor the optional HAVING clause of the associated table-expression referenced a
         summary function.
NOTE: Table WORK.WANT created, with 2000 rows and 2 columns.

154  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


155  proc sql;
156  create table want as
157  select mcaid_id
158       , int as intervention
159  FROM short_a8
160  group by mcaid_id, int;
WARNING: A GROUP BY clause has been transformed into an ORDER BY clause because neither the SELECT
         clause nor the optional HAVING clause of the associated table-expression referenced a
         summary function.
NOTE: Table WORK.WANT created, with 2000 rows and 2 columns.

161  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds


162  proc sql;
163  create table want as
164  select distinct mcaid_id
165       , int as intervention
166  FROM short_a8
167  group by mcaid_id, int;
WARNING: A GROUP BY clause has been transformed into an ORDER BY clause because neither the SELECT
         clause nor the optional HAVING clause of the associated table-expression referenced a
         summary function.
NOTE: Table WORK.WANT created, with 570 rows and 2 columns.

168  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


169  proc sql;
170  create table want as
171  select distinct mcaid_id
172       , count (distinct mcaid_id) as n_mcaidid
173       , int as intervention
174  FROM short_a8
175  group by mcaid_id, int;
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

176  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


177  proc sql;
178  create table want as
179  select distinct mcaid_id
180       , count mcaid_id as n_mcaidid
                  --------
                  22
ERROR 22-322: Syntax error, expecting one of the following: !, !!, &, *, **, +, ',', -, '.', /, <,
              <=, <>, =, >, >=, ?, AND, AS, CONTAINS, EQ, EQT, FROM, GE, GET, GT, GTT, LE, LET,
              LIKE, LT, LTT, NE, NET, OR, ^=, |, ||, ~=.

181       , int as intervention
182  FROM short_a8
     ----
     78
     76
ERROR 78-322: Expecting a ','.

ERROR 76-322: Syntax error, statement will be ignored.

183  group by mcaid_id, int;
184  quit;
NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


185  proc sql;
186  create table want as
187  select distinct mcaid_id
188       , count(mcaid_id) as n_mcaidid
189       , int as intervention
190  FROM short_a8
191  group by mcaid_id, int;
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

192  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


193  proc sql;
194  create table want as
195  select distinct mcaid_id
196       , count(mcaid_id) as n_mcaidid
197       , int as intervention
198  FROM short_a8
199  group by mcaid_id, int
200  order by mcaid_id;
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

201  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


202  proc sort data = want ; by mcaid_id ; run;

NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds



203  proc sql;
204  create table want as
205  select distinct mcaid_id
206       , int as intervention
207  FROM short_a8
208  group by mcaid_id, int
209  order by mcaid_id;
NOTE: A GROUP BY clause has been discarded because neither the SELECT clause nor the optional
      HAVING clause of the associated table-expression referenced a summary function.
NOTE: Table WORK.WANT created, with 570 rows and 2 columns.

210  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


211  proc sql;
212  create table want as
213  select distinct mcaid_id
214       , mcaid_id as n
215       , int as intervention
216  FROM short_a8
217  group by mcaid_id, int
218  order by mcaid_id;
NOTE: A GROUP BY clause has been discarded because neither the SELECT clause nor the optional
      HAVING clause of the associated table-expression referenced a summary function.
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

219  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


220
221  proc sql;
222  create table want as
223  select mcaid_id
224       , count(mcaid_id ) as n_id
225       , int as intervention
226  FROM short_a8
227  group by mcaid_id, int
228  order by mcaid_id;
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

229  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


230  proc sql;
231  create table want as
232  select mcaid_id
233       , count(mcaid_id ) as n_id
234       , int as intervention
235  FROM short_a8
236  group by mcaid_id
237  order by mcaid_id;
NOTE: The query requires remerging summary statistics back with the original data.
NOTE: Table WORK.WANT created, with 2000 rows and 3 columns.

238  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds


239  proc sql;
240  create table want as
241  select distinct mcaid_id
242       , count(mcaid_id ) as n_id
243       , int as intervention
244  FROM short_a8
245  group by mcaid_id
246  order by mcaid_id;
NOTE: The query requires remerging summary statistics back with the original data.
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

247  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


248  proc sql;
249  create table want as
250  select mcaid_id
251       , count(distinct mcaid_id) as n_id
252       , count(int) as n_status
253       , int
254  FROM short_a8
255  group by mcaid_id, int
256  order by mcaid_id;
NOTE: Table WORK.WANT created, with 570 rows and 4 columns.

257  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


258  proc sql;
259  create table want as
260  select mcaid_id
261       , count(distinct int) as n_int
262       , int
263  FROM short_a8
264  group by mcaid_id, int
265  order by mcaid_id;
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

266  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


267
268  proc sql;
269  create table want as
270  select mcaid_id
271       , count(int) as n_int
272       , int
273  FROM short_a8
274  group by mcaid_id, int
275  order by mcaid_id;
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

276  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


277  proc sql;
278  create table want as
279  select mcaid_id
280       , int
281  FROM short_a8
282  group by mcaid_id, int
283  order by mcaid_id;
NOTE: A GROUP BY clause has been discarded because neither the SELECT clause nor the optional
      HAVING clause of the associated table-expression referenced a summary function.
NOTE: Table WORK.WANT created, with 2000 rows and 2 columns.

284  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds


285  proc sql;
286  create table want as
287  select mcaid_id
288       , count(distinct int) as n_int
289       , int
290  FROM short_a8
291  group by mcaid_id
292  order by mcaid_id;
NOTE: The query requires remerging summary statistics back with the original data.
NOTE: Table WORK.WANT created, with 2000 rows and 3 columns.

293  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds


294
295  proc sql;
296  create table want as
297  select mcaid_id
298       , count(distinct int) as n_int
299       , int
300  FROM short_a8
301  group by mcaid_id, int
302  order by mcaid_id;
NOTE: Table WORK.WANT created, with 570 rows and 3 columns.

303  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


304  proc sql;
305  create table want as
306  select mcaid_id
307       , count(distinct int) as n_int
308  FROM short_a8
309  group by mcaid_id
310  having n_int > 1
311  order by mcaid_id;
NOTE: Table WORK.WANT created, with 14 rows and 2 columns.

312  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


313
314  ods pdf file = "&util/code/util_cost_pc_abr_20230330.pdf";
SYMBOLGEN:  Macro variable UTIL resolves to
            S:/FHPC/DATA/HCPF_Data_files_SECURE/Kim/isp/isp_utilization
NOTE: Writing ODS PDF output to DISK destination
      "S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_cost_pc_abr_20230330.pd
      f", printer "PDF".
315
316  ods text  "Var description:
317  mcaid_id    : medicaid id (between 1 and 3 records per member: compound primary key with 'time'
317!  variable)
318  time        : categorical, linear quarters for FY, where 1 = 01JUL2019
319  int         : intervention of ISP if practice participated at any time (0,1)
320  int_imp     : time-varying covariate, ISP intervention based on month practice started
321  ind_...     : indicator variable if value of 0 or ge 1 for any DV
322                ind_cost_pc, ind_cost_ffs, ind_cost_rx, ind_util_bh_o, ind_util_er, ind_util_pc,
322! ind_util_tel
323
324  cost_ffs_tc : mean-preserving top coded inflation adjusted total FFS cost - PMPM avg for
324! quarter
325  cost_rx_tc  : mean-preserving top coded inflation adjusted Pharmacy cost - PMPM avg for quarter
316  ods text  "Var description:
               -----------------
               73
ERROR 73-322: Expecting an =.

326  cost_pc_tc  : mean-preserving top coded inflation adjusted total Primary Care cost - PMPM avg
326! for quarter
327  util_bh_o   : non-hospital, non_ED capitated BH Utilization (n visits) - PMPM avg for a quarter
328  util_er     : ED utilization (n FFS ED visits + n BH ED visits) - PMPM avg for quarter
329  util_pc     : Primary Care Utilization (n PC visits in quarter) - PMPM avg for quarter
330  util_tele   : Primary Care telehealth utilizaton (n PC telehealth visits) - PMPM avg for a
330! quarter; ";
331
332  proc contents data = data.Analysis_dataset;
333  RUN ;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.12 seconds
      cpu time            0.03 seconds


334
335  ods pdf close;
NOTE: ODS PDF printed 2 pages to
      S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_cost_pc_abr_20230330.pdf
      .
336  ods pdf file = "&util/code/util_cost_pc_abr_20230330.pdf";
SYMBOLGEN:  Macro variable UTIL resolves to
            S:/FHPC/DATA/HCPF_Data_files_SECURE/Kim/isp/isp_utilization
NOTE: Writing ODS PDF output to DISK destination
      "S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_cost_pc_abr_20230330.pd
      f", printer "PDF".
337
338  ods text "time       : categorical, linear quarters for FY, where 1 = 01JUL2019";
              -----------------------------------------------------------------------
              73
ERROR 73-322: Expecting an =.
339  ods text "int        : intervention of ISP if practice participated at any time (0,1)";
339  ods text "int        : intervention of ISP if practice participated at any time (0,1)";
              -----------------------------------------------------------------------------
              73
ERROR 73-322: Expecting an =.

340  ods text "int_imp    : time-varying covariate, ISP intervention based on month practice
340! started";
340  ods text
340! "int_imp    : time-varying covariate, ISP intervention based on month practice started";
     ---------------------------------------------------------------------------------------
     73
ERROR 73-322: Expecting an =.

341  ods text "ind_cost_pc: indicator variable if value of 0 or ge 1 for any DV";
341  ods text "ind_cost_pc: indicator variable if value of 0 or ge 1 for any DV";
              ------------------------------------------------------------------
              73
ERROR 73-322: Expecting an =.

342  ods text "cost_pc_tc : mean-preserving top coded inflation adjusted total Primary Care cost -
342! PMPM avg for quarter";
342  ods text "cost_pc_tc : mean-preserving top coded inflation adjusted total Primary Care cost -
              -------------------------------------------------------------------------------------
              73
342! PMPM avg for quarter";
ERROR 73-322: Expecting an =.

343
344  proc contents data = data.Analysis_dataset;
345  RUN ;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds


346
347  ods pdf close;
NOTE: ODS PDF printed 2 pages to
      S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_cost_pc_abr_20230330.pdf
      .
348  ods pdf file = "&util/code/util_cost_pc_abr_20230330.pdf";
SYMBOLGEN:  Macro variable UTIL resolves to
            S:/FHPC/DATA/HCPF_Data_files_SECURE/Kim/isp/isp_utilization
NOTE: Writing ODS PDF output to DISK destination
      "S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_cost_pc_abr_20230330.pd
      f", printer "PDF".
349
350  ods text ="time       : categorical, linear quarters for FY, where 1 = 01JUL2019";
351  ods text ="int        : intervention of ISP if practice participated at any time (0,1)";
352  ods text ="int_imp    : time-varying covariate, ISP intervention based on month practice
352! started";
353  ods text ="ind_cost_pc: indicator variable if value of 0 or ge 1 for any DV";
354  ods text ="cost_pc_tc : mean-preserving top coded inflation adjusted total Primary Care cost -
354! PMPM avg for quarter";
355
356  proc contents data = data.Analysis_dataset;
357  RUN ;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds


358
359  ods pdf close;
NOTE: ODS PDF printed 2 pages to
      S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_cost_pc_abr_20230330.pdf
      .
360
361  ods pdf file = "&util/code/util_cost_pc_abr_20230330.pdf";
SYMBOLGEN:  Macro variable UTIL resolves to
            S:/FHPC/DATA/HCPF_Data_files_SECURE/Kim/isp/isp_utilization
NOTE: Writing ODS PDF output to DISK destination
      "S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_cost_pc_abr_20230330.pd
      f", printer "PDF".
362
363  ods text = "VARS";
364  ods text = "time: categorical, linear quarters for FY, where 1 = 01JUL2019";
365  ods text = "int: intervention of ISP if practice participated at any time (0,1)";
366  ods text = "int_imp: time-varying covariate, ISP intervention based on month practice started";
367  ods text = "ind_cost_pc: indicator variable if value of 0 or ge 1 for any DV";
368  ods text = "cost_pc_tc: mean-preserving top coded inflation adjusted total Primary Care cost -
368! PMPM avg for quarter";
369
370  %LET dat = data.analysis_dataset;
371
372  proc contents data = &dat;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis_dataset
373  RUN ;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds


374
375  * probability model ;
376  TITLE "probability model";
377  proc gee data  = &dat desc;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis_dataset
NOTE: PROCEDURE GEE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds

NOTE: The SAS System stopped processing this step because of errors.
378    class mcaid_id int int_imp time (ref=1) ind_cost_pc ;
                                            -
                                            22
                                            200
ERROR 22-322: Syntax error, expecting one of the following: a quoted string, FIRST, LAST, REF,
              REFERENCE.
ERROR 200-322: The symbol is not recognized and will be ignored.
379    model ind_cost_pc = int int_imp time / dist = binomial link = logit ;
380    repeated subject = mcaid_id / type = exch;
381    store p_model;
382  run;
383
384  * positive cost model ;
385  TITLE "cost model";


386  proc gee data  = &dat desc;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis_dataset
387  where cost_pc_tc > 0;
388  class mcaid_id int int_imp time ind_cost_pc ;
389  model cost_pc_tc = int int_imp time / dist = gamma link = log ;
390  repeated subject = mcaid_id / type = exch;
391  store c_model;
392  run;

NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: The CLASS variable ind_cost_pc has only one level: '1'.
NOTE: The GEE procedure generated the model item store WORK.C_MODEL.
NOTE: PROCEDURE GEE used (Total process time):
      real time           2:11.90
      cpu time            1:33.04


393  TITLE;
394
395  * interest group ;
396  * the group of interest (emancipated youth) is set twice,
397    the top in the stack will be recoded as not emancipated (unexposed)
398    the bottom group keeps the emancipated status;
399
400  data intgroup;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis_dataset
401    set &dat &dat (in = b);
SYMBOLGEN:  Macro variable DAT resolves to data.analysis_dataset
402    where int = 1;
403    if ^b then int = 0;
404    exposed = b;
405  run;

NOTE: There were 1785893 observations read from the data set DATA.ANALYSIS_DATASET.
      WHERE int=1;
NOTE: There were 1785893 observations read from the data set DATA.ANALYSIS_DATASET.
      WHERE int=1;
NOTE: The data set WORK.INTGROUP has 3571786 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           3.03 seconds
      cpu time            3.03 seconds


406  *  1785893 for both with intgroup = 3571786;
407
408  * the predictions for util and cost will be made for each person twice, once exposed and once
408! unexposed;
409
410  * prob of util ;
411  proc plm restore=p_model;
412     score data=intgroup out=p_intgroup predicted=p_prob / ilink;
413  run;

NOTE: The data set WORK.P_INTGROUP has 3571786 observations and 39 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           3.17 seconds
      cpu time            3.09 seconds


414
415  * prob of cost ;
416  proc plm restore=c_model;
417     score data=p_intgroup out=cp_intgroup predicted=p_cost / ilink;
418  run;

NOTE: The data set WORK.CP_INTGROUP has 3571786 observations and 40 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           2.86 seconds
      cpu time            2.76 seconds


419
420  * person average cost is calculated ;
421  data meanCost;
422    set cp_intgroup;
423    a_cost = p_prob*p_cost;* (1-p term = 0);
424  run;

NOTE: There were 3571786 observations read from the data set WORK.CP_INTGROUP.
NOTE: The data set WORK.MEANCOST has 3571786 observations and 41 variables.
NOTE: DATA statement used (Total process time):
      real time           0.91 seconds
      cpu time            0.89 seconds


425
426  * group average cost is calculated and contrasted ;
427  proc sql;
428
429  create table apv_cost_pc as
430    select mean(case when exposed=1 then a_cost else . end ) as cost_exposed,
431           mean(case when exposed=0 then a_cost else . end ) as cost_unexposed,
432    calculated cost_exposed - calculated cost_unexposed as cost_diff
433    from meanCost;
NOTE: Table WORK.APV_COST_PC created, with 1 rows and 3 columns.

434
435  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.59 seconds
      cpu time            0.59 seconds


436
437  TITLE "apv_cost_pc";
438  proc print data = apv_cost_pc;
439  run;

NOTE: There were 1 observations read from the data set WORK.APV_COST_PC.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds


440
441  ods pdf close;
NOTE: ODS PDF printed 8 pages to
      S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_cost_pc_abr_20230330.pdf
      .
