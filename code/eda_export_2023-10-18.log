NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2617  ODS PDF FILE     = "&pdf"
2618                      STARTPAGE = no;
NOTE: Writing ODS PDF output to DISK destination 
      "S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\eda_export_2023-
      10-18.pdf", printer "PDF".
2619  
2620  Title %sysget(SAS_EXECFILENAME);
2621  
2622  PROC SQL NOPRINT;
2623  SELECT count(*) into :nobs from &dat;
2624  QUIT;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

2625  
2626  PROC SQL NOPRINT;
2627  SELECT COUNT (DISTINCT mcaid_id ) into :nmem
2628  FROM &dat ;
2629  QUIT ;
NOTE: PROCEDURE SQL used (Total process time):
      real time           38.56 seconds
      cpu time            4.26 seconds
      

2630  
2631  PROC SQL NOPRINT;
2632  SELECT count(distinct mcaid_id) into :int
2633  FROM &dat;
2634  QUIT;
NOTE: PROCEDURE SQL used (Total process time):
      real time           3.27 seconds
      cpu time            3.28 seconds
      

2635  
2636  proc odstext;
2637  p "Date: &today";
2638  p "Project Root: &root";
2639  p "Script: %sysget(SAS_EXECFILENAME)";
2640  p "Total Observations in Dataset: &nobs";
2641  p "Total unique medicaid IDs in Dataset: &nmem";
2642  p "Total medicaid ID's where int 1: &int";
2643  p "";
2644  RUN;
NOTE: PROCEDURE ODSTEXT used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

2645  
2646  * Print specs ;
2647  PROC ODSTEXT;
2648  /*p "Update/s to data.utilization (final ds)" /style=systemtitle;*/
2649  /*p "-- 09-11: changed to data.utilization, renamed data.utilization to
2649! data.analysis_prev to adjust length of variables (also renamed some)."; */
2650  /*p "-- 06/24: Created rescaled integer visit DVs mult by 6 ";*/
2651  /*p "-- 06/19: Changed formats to hard coded values for budget vars, age";*/
2652  /*p "-- 06/08: Changed age determination date from EOFY to Quarter Month=2";*/
2653  /*p "-- 06/05: Collapsed bh FY16-18 variables by FY (ie bh_2016 = 1 if bh_oth2016,
2653!  bh_er16, or bh_hosp16 = 1)";*/
2654  /*p "-- 06/02: Re-generated dataset and updated to include FY22 Q1";*/
2655  /*p "-- 05/15: Effect Coding time with season variables"; */
2656  /*p "-- 05/10: Included fyqrtr variable in final analysis dataset"; */
2657  /*p " ";*/
2658  /**/
2659  /*p "Final Dataset Inclusion Rules"  /style = systemtitle;*/
2660  /*p "Eligibility determination based on ID presence in qry_longitudinal where
2660! records for FYs 19-22 indicated:" */
2661  /*  /style = header;*/
2662  /*p "-----1) Age 0-64 (as of quarter month2)"; */
2663  /*p "-----2) rae_id not NA";*/
2664  /*p "-----3) pcmp_loc_id not NA";*/
2665  /*p "-----4) Sex = M, F only (excluded U)";*/
2666  /*p "-----5) ManagedCare = 0";*/
2667  /*p "-----6) budget_group NOT 16:27";*/
2668  /*p "Final dataset records aggregated by quarters.";*/
2669  /*p "-- Where unique value per quarter n >1 for variables rae_id, budget_group,
2669! and pcmp_loc_id:";*/
2670  /*p "----- a) Max value used where possible";*/
2671  /*p "----- b) In cases of ties, used value in quarter months that was most recent"
2671! ;*/
2672  /*p " ";*/
2673  p "The final dataset contains n=&nobs unique mcaid_id*time (quarter) records, with
2673!  n=&nmem unique member ids, where &int members had time-invariant status 1" /
2673! style=header;
2674  p " ";
2675  RUN;
NOTE: PROCEDURE ODSTEXT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

2676  
2677  PROC FORMAT;
2678  VALUE adj1618fy
2679  0 = "(0) Not Eligble for HFC during FY"
2680  1 = "(1) PMPM in YR is $0 (Eligible HFC)"
2681  2 = "(2) PMPM YR >0 and <= 50th percentile"
2682  3 = "(3) PMPM YR >50th percentiles, <= 75th percentile"
2683  4 = "(4) PMPM YR >75th percentiles, <= 90th percentile"
2684  5 = "(5) PMPM YR >90th percentiles, <= 95th percentile"
2685  6 = "(6) PMPM YR > 95th percentile";
NOTE: Format ADJ1618FY has been output.
2686  
2687  VALUE bh1618fy
2688  0 = "FY Visits = 0"
2689  0.001 - high = "FY Visits >0";
NOTE: Format BH1618FY has been output.
2690  RUN;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2691  *******************************************************************************
2692  * Print columns for dataset (use abbreviation 'columns');
2693  ods proclabel 'Analytic Dataset Columns'; RUN;
2694  PROC ODSTEXT;
2695  p "Dataset Contents" /style=systemtitle;
2696  RUN;
NOTE: PROCEDURE ODSTEXT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

2697  PROC CONTENTS DATA = &dat VARNUM; RUN;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

2698  
2699  ods proclabel 'Frequencies, Cat Vars: Ungrouped'; RUN;
2700  proc odstext; p "Frequencies, Categorical Vars: Ungrouped"; RUN;
NOTE: PROCEDURE ODSTEXT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

2701  
2702  PROC FREQ DATA = &dat;
2703  TABLES time int int_imp season: ind: bh: race sex budget_grp_num age_cat fqhc rae:
2703!  adj_pd_total_16cat adj_pd_total_17cat adj_pd_total_18cat;
ERROR: Variable BUDGET_GRP_NUM not found.
2704  RUN;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
2705  
2706  ods proclabel 'Frequencies, Cat Vars: GROUPED by INT (time invariant)'; RUN;


2707  proc odstext;
2708  p "Frequencies, Categorical Vars: GROUPED by INT (time invariant)"; RUN;
NOTE: PROCEDURE ODSTEXT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

2709  
2710  PROC FREQ DATA = &dat;
2711  TABLES time int int_imp season: ind: bh: race sex budget_grp_num age_cat fqhc rae:
ERROR: Variable BUDGET_GRP_NUM not found.
2712              adj_pd_total_16cat adj_pd_total_17cat adj_pd_total_18cat;
2713  BY INT;
2714  RUN;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
2715  
2716  %macro univar_gt0(var, title);
2717  PROC UNIVARIATE DATA = &dat;
2718  TITLE &TITLE;
2719  VAR &var;
2720  WHERE &var gt 0 ;
2721  HISTOGRAM;
2722  RUN;
2723  TITLE;
2724  %mend;
2725  
2726  %macro univar(var, title);
2727  PROC UNIVARIATE DATA = &dat;
2728  TITLE &TITLE;
2729  VAR &var;
2730  HISTOGRAM;
2731  RUN;
2732  TITLE;
2733  %mend;
2734  
2735  /*proc odstext;*/
2736  /*p "New BH Variables (bh_2016, bh_2017, bh_2018)" / style=systemtitle; */
2737  /*p "Includes all records (not grouped by mcaid_id)"; RUN;  */
2738  /**/
2739  /*PROC SQL; */
2740  /*CREATE TABLE sums_bh_1618 AS */
2741  /*SELECT sum(bh_2016) as n_bh_16*/
2742  /*     , sum(bh_2017) as n_bh_17*/
2743  /*     , sum(bh_2018) as n_bh_18*/
2744  /*FROM &dat; */
2745  /*Quit; */
2746  
2747  /*PROC PRINT DATA = sums_bh_1618; RUN; */
2748  
2749  /**/
2750  /*********************************************************************************
2750! /
2751  /** Time frequency : find missing time, pct time; */
2752  /*ods proclabel 'Time Frequency Description';*/
2753  /*proc odstext;*/
2754  /*p "Time freq by member" / style=systemtitle;*/
2755  /*p "(Divided time frequency by total unique member ids (n=&nmem) to get percent,
2755! then subtracted percent from 1 to get missing val)"; */
2756  /*p "";*/
2757  /*RUN; */
2758  /**/
2759  /*ods proclabel 'Time Frequency Table';*/
2760  /*PROC PRINT DATA = int.eda_time_freq;*/
2761  /*format pct: percent10.2;*/
2762  /*VAR  time n_time pct_time_mem pct_time_missing; */
2763  /*RUN; */
2764  
2765  **********************************************************************************
2765! ****
2766  * PROC UNIVAR for continuous vars, ungrouped (entire dataset);
2767  ods proclabel 'Top Coded Vals, text'; RUN;


2768  PROC ODSTEXT;
2769  p "Percentiles and values for top-coded DVs (cost: pc, rx, total)"
2770    /style = systemtitle;
2771  p "Means taken where value gt 95th percentile"; RUN;
NOTE: PROCEDURE ODSTEXT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      