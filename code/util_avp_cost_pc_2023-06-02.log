NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

728  ODS PDF FILE     = "&pdf"
SYMBOLGEN:  Macro variable PDF resolves to 
            S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization/code/util_avp_co
            st_pc_2023-06-02.pdf
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have 
            been unquoted for printing.
729                      STARTPAGE = no;
NOTE: Writing ODS PDF output to DISK destination 
      "S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\util_avp_cost_pc
      _2023-06-02.pdf", printer "PDF".
730  
731  Title %sysget(SAS_EXECFILENAME);
732  
733  proc odstext;
SYMBOLGEN:  Macro variable TODAY resolves to 2023-06-02
734  p "Date:              &today";
SYMBOLGEN:  Macro variable ROOT resolves to 
            S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have 
            been unquoted for printing.
735  p "Project Root: &root";
736  p "Script:            %sysget(SAS_EXECFILENAME)";
SYMBOLGEN:  Macro variable LOG resolves to 
            S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization/code/util_avp_co
            st_pc_2023-06-02.log
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have 
            been unquoted for printing.
737  p "Log File:         &log";
SYMBOLGEN:  Macro variable PDF resolves to 
            S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization/code/util_avp_co
            st_pc_2023-06-02.pdf
SYMBOLGEN:  Some characters in the above value which were subject to macro quoting have 
            been unquoted for printing.
738  p "Results File:  &pdf";
739  RUN;
NOTE: PROCEDURE ODSTEXT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

740  
741  %LET dat = data.analysis;
742  %put &dat;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis
data.analysis
743  
744  PROC PRINT DATA = data.analysis_meta; RUN;

NOTE: There were 40 observations read from the data set DATA.ANALYSIS_META.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      

745  
746  
747  TITLE "Probability Model: PC Cost";
748  PROC GEE DATA  = &dat DESC;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis
749  CLASS  mcaid_id
750         season1(ref='-1')    season2(ref='-1')     season3(ref='-1')
751         int    (ref= '0')    int_imp(ref= '0')
752         age    (ref= '1')    race                  sex
753         budget_group         fqhc(ref= '0')        rae_person_new
754         bh_hosp16(ref= '0')  bh_hosp17(ref= '0')   bh_hosp18(ref= '0')
755         bh_er16  (ref= '0')  bh_er16  (ref= '0')   bh_er16  (ref= '0')
756         bh_oth16 (ref= '0')  bh_oth17 (ref= '0')   bh_oth17 (ref= '0')
757         adj_pd_total_16cat(ref='-1')
758         adj_pd_total_17cat(ref='-1')
759         adj_pd_total_18cat(ref='-1')
760         ind_pc_cost       (ref= '0') ;
761  MODEL  ind_pc_cost = time       season1    season2     season3
762                       int        int_imp
763                       age        race        sex
764                       budget_group           fqhc       rae_person_new
765                       bh_er16    bh_er17     bh_er18
766                       bh_hosp16  bh_hosp17   bh_hosp18
767                       bh_oth16   bh_oth17    bh_oth18
768                       adj_pd_total_16cat
769                       adj_pd_total_17cat
770                       adj_pd_total_18cat
771          / DIST=binomial LINK=logit ;
772  REPEATED SUBJECT = mcaid_id / type=exch ;
773  store p_MODEL;
774  run;

NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: PROC GEE is modeling the probability that ind_pc_cost='1'.
ERROR: The generalized Hessian matrix is not positive definite. Iteration will be 
       terminated.
NOTE: The GEE procedure deleted the model item store WORK.P_MODEL because of incomplete 
      information for a subsequent analysis.
NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE GEE used (Total process time):
      real time           6:30.47
      cpu time            5:43.79
      
775  
776  * positive cost model ;
777  TITLE "Cost Model: PC";


778  PROC GEE DATA  = &dat desc;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis
779  WHERE adj_pd_pc_tc > 0;
780  CLASS mcaid_id
781        season1(ref='-1')    season2(ref='-1')     season3(ref='-1')
782        int    (ref= '0')    int_imp(ref= '0')
783        age    (ref= '1')    race                  sex
784        budget_group         fqhc(ref= '0')        rae_person_new
785        bh_hosp16(ref= '0')  bh_hosp17(ref= '0')   bh_hosp18(ref= '0')
786        bh_er16  (ref= '0')  bh_er16  (ref= '0')   bh_er16  (ref= '0')
787        bh_oth16 (ref= '0')  bh_oth17 (ref= '0')   bh_oth17 (ref= '0')
788        adj_pd_total_16cat(ref='-1')
789        adj_pd_total_17cat(ref='-1')
790        adj_pd_total_18cat(ref='-1');
791  
792  MODEL adj_pd_pc_tc = time       season1    season2     season3
793                       int        int_imp
794                       age        race        sex
795                       budget_group           fqhc       rae_person_new
796                       bh_er16    bh_er17     bh_er18
797                       bh_hosp16  bh_hosp17   bh_hosp18
798                       bh_oth16   bh_oth17    bh_oth18
799                       adj_pd_total_16cat
800                       adj_pd_total_17cat
801                       adj_pd_total_18cat     / dist = gamma link = log ;
802  REPEATED SUBJECT = mcaid_id / type = exch;
803  store c_model;
804  RUN;

NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: The GEE procedure generated the model item store WORK.C_MODEL.
NOTE: PROCEDURE GEE used (Total process time):
      real time           6:00.72
      cpu time            6:00.57
      

805  TITLE;
806  
807  * interest group ;
808  * the group of interest (emancipated youth) is set twice,
809    the top in the stack will be recoded as not emancipated (unexposed)
810    the bottom group keeps the emancipated status;
811  
812  data intgroup;
SYMBOLGEN:  Macro variable DAT resolves to data.analysis
813    set &dat &dat (in = b);
SYMBOLGEN:  Macro variable DAT resolves to data.analysis
814    where int = 1;
815    if ^b then int = 0;
816    exposed = b;
817  run;

NOTE: There were 1893108 observations read from the data set DATA.ANALYSIS.
      WHERE int=1;
NOTE: There were 1893108 observations read from the data set DATA.ANALYSIS.
      WHERE int=1;
NOTE: The data set WORK.INTGROUP has 3786216 observations and 41 variables.
NOTE: DATA statement used (Total process time):
      real time           3.49 seconds
      cpu time            3.43 seconds
      

818  
819  * the predictions for util and cost will be made for each person twice, once
819! exposed and once unexposed;
820  
821  * prob of util ;
NOTE: PROCEDURE PLM used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
ERROR: The file WORK.P_MODEL does not exist or it is not a valid item store.
NOTE: The SAS System stopped processing this step because of errors.
822  proc plm restore=p_model;
823     score data=intgroup out=p_intgroup predicted=p_prob / ilink;
824  run;
825  
826  * prob of cost ;


827  proc plm restore=c_model;
828     score data=p_intgroup out=cp_intgroup predicted=p_cost / ilink;
ERROR: File WORK.P_INTGROUP.DATA does not exist.
829  run;

NOTE: The SAS System stopped processing this step because of errors.
WARNING: The data set WORK.CP_INTGROUP may be incomplete.  When this step was stopped 
         there were 0 observations and 0 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
830  
831  * person average cost is calculated ;


832  data out.meanCost;
833    set cp_intgroup;
834    a_cost = p_prob*p_cost;* (1-p term = 0);
835  run;

NOTE: Variable p_cost is uninitialized.
NOTE: Variable p_prob is uninitialized.
NOTE: There were 0 observations read from the data set WORK.CP_INTGROUP.
NOTE: The data set OUT.MEANCOST has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.01 seconds
      

836  
837  * group average cost is calculated and contrasted ;
838  proc sql;
839  create table out.avp_cost_pc as
840    select mean(case when exposed=1 then a_cost else . end ) as cost_exposed,
841           mean(case when exposed=0 then a_cost else . end ) as cost_unexposed,
842    calculated cost_exposed - calculated cost_unexposed as cost_diff
843    from meanCost;
ERROR: File WORK.MEANCOST.DATA does not exist.
844  quit;
NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
845  
846  TITLE "avp_cost_pc";


847  proc print data = out.avp_cost_pc;
ERROR: File OUT.AVP_COST_PC.DATA does not exist.
848  run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
849  


850  proc means data = meancost;
ERROR: File WORK.MEANCOST.DATA does not exist.
851  by exposed;
852  var p_prob p_cost a_cost;
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
853  RUN;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
854  


855  PROC PRINTTO; RUN;

