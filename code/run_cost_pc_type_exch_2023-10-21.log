NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(HURDLE):   PROC GENMOD DATA = data.utilization;
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI Eligible 
Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') rae_person_new(ref='3') 
age_cat(ref='ages 21-44') fqhc(ref ='0') bh_oth17(ref='0') bh_oth18(ref='0') bh_oth19(ref='0') 
bh_er17(ref='0') bh_er18(ref='0') bh_er19(ref='0') bh_hosp17(ref='0') bh_hosp18(ref='0') 
bh_hosp19(ref='0') adj_pd_total_17cat(ref='0') adj_pd_total_18cat(ref='0') 
adj_pd_total_19cat(ref='0') ind_cost_pc;
MPRINT(HURDLE):   MODEL ind_cost_pc(event='1') = int int_imp time season1 season2 season3 
budget_grp_new race sex rae_person_new age_cat fqhc bh_oth17 bh_oth18 bh_oth19 bh_er17 bh_er18 
bh_er19 bh_hosp17 bh_hosp18 bh_hosp19 adj_pd_total_17cat adj_pd_total_18cat adj_pd_total_19cat / 
DIST=binomial;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type=exch ;
MPRINT(HURDLE):   store out.cost_pc_pmodel_exch;
MPRINT(HURDLE):   run;


NOTE: The GENMOD procedure deleted the model item store OUT.COST_PC_PMODEL_EXCH because of 
      incomplete information for a subsequent analysis.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           34.21 seconds
      cpu time            16.92 seconds
      


703  %INCLUDE "S:/FHPC/DATA/HCPF_DATA_files_SECURE/Kim/isp/isp_utilization/code/config.sas";
NOTE: Libref DATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\data
NOTE: Libref INT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\data\interim
NOTE: Libref OUT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\data\out_hurdle
NOTE: Libref RAW was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\data\_raw
NOTE: Libref ANA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: S:\FHPC\DATA\HCPF_Data_files_SECURE\HCPF_SqlServer\AnalyticSubset
NOTE: Format PCTFMT is already on the library WORK.FORMATS.
NOTE: Format PCTFMT has been output.

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: Overwriting existing template/link: Base.Freq.OneWayList
NOTE: TABLE 'Base.Freq.OneWayList' has been saved to: WORK.TEMPLAT
NOTE: PROCEDURE TEMPLATE used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

845   libname int clear;
NOTE: Libref INT has been deassigned.
846   /*PROC CONTENTS DATA = data.utilization VARNUM; run; */
847   %INCLUDE
847 ! "S:/FHPC/DATA/HCPF_DATA_files_SECURE/Kim/isp/isp_utilization/code/macro_hurdle_costs.sas";

979   %LET dat = data.utilization;
980   *[DV: Cost PC] 08-17-2023 =================================================================;
981   %LET outcome = pc;
982   %hurdle  (dat=&dat, pvar=ind_cost_pc, cvar=cost_pc, dv=cost_&outcome., type=exch);
MLOGIC(HURDLE):  Beginning execution.
MLOGIC(HURDLE):  Parameter DAT has value data.utilization
MLOGIC(HURDLE):  Parameter PVAR has value ind_cost_pc
MLOGIC(HURDLE):  Parameter CVAR has value cost_pc
MLOGIC(HURDLE):  Parameter DV has value cost_pc
MLOGIC(HURDLE):  Parameter TYPE has value exch
MPRINT(HURDLE):   OPTIONS SOURCE;
MLOGIC(HURDLE):  %LET (variable name is ROOT)
MLOGIC(HURDLE):  %LET (variable name is SCRIPT)
MPRINT(HURDLE):   * remove .sas to use in log, pdf;
MLOGIC(HURDLE):  %LET (variable name is TODAY)
MLOGIC(HURDLE):  %LET (variable name is LOG)
MLOGIC(HURDLE):  %PUT &log
S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\results_cost_pc_type_exch_2023-10-2
1.log
MPRINT(HURDLE):   PROC PRINTTO LOG = 
"S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\code\results_cost_pc_type_exch_2023-10-
21.log";
MPRINT(HURDLE):   RUN;

NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(HURDLE):   PROC GENMOD DATA = data.utilization;
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI Eligible 
Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') rae_person_new(ref='3') 
age_cat(ref='ages 21-44') fqhc(ref ='0') bh_oth17(ref='0') bh_oth18(ref='0') bh_oth19(ref='0') 
bh_er17(ref='0') bh_er18(ref='0') bh_er19(ref='0') bh_hosp17(ref='0') bh_hosp18(ref='0') 
bh_hosp19(ref='0') adj_pd_total_17cat(ref='0') adj_pd_total_18cat(ref='0') 
adj_pd_total_19cat(ref='0') ind_cost_pc;
MPRINT(HURDLE):   MODEL ind_cost_pc(event='1') = int int_imp time season1 season2 season3 
budget_grp_new race sex rae_person_new age_cat fqhc bh_oth17 bh_oth18 bh_oth19 bh_er17 bh_er18 
bh_er19 bh_hosp17 bh_hosp18 bh_hosp19 adj_pd_total_17cat adj_pd_total_18cat adj_pd_total_19cat / 
DIST=binomial;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type=exch ;
MPRINT(HURDLE):   store out.cost_pc_pmodel_exch;
MPRINT(HURDLE):   run;


NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: PROC GENMOD is modeling the probability that ind_cost_pc='1'. One way to change this to model 
      the probability that ind_cost_pc='0' is to specify the DESCENDING option in the PROC 
      statement.
NOTE: Algorithm converged.
NOTE: Algorithm converged.
NOTE: The GENMOD procedure generated the model item store OUT.COST_PC_PMODEL_EXCH.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           14:39.92
      cpu time            14:09.73
      

MPRINT(HURDLE):   TITLE 'Cost Model';
MPRINT(HURDLE):   PROC GENMOD DATA = data.utilization desc;
MPRINT(HURDLE):   WHERE cost_pc > 0;
MPRINT(HURDLE):   CLASS mcaid_id int(ref='0') int_imp(ref='0') budget_grp_new(ref='MAGI Eligible 
Children') race(ref='non-Hispanic White/Caucasian') sex(ref='Female') rae_person_new(ref='3') 
age_cat(ref='ages 21-44') fqhc(ref ='0') bh_oth17(ref='0') bh_oth18(ref='0') bh_oth19(ref='0') 
bh_er17(ref='0') bh_er18(ref='0') bh_er19(ref='0') bh_hosp17(ref='0') bh_hosp18(ref='0') 
bh_hosp19(ref='0') adj_pd_total_17cat(ref='0') adj_pd_total_18cat(ref='0') 
adj_pd_total_19cat(ref='0') ;
MPRINT(HURDLE):   MODEL cost_pc = int int_imp time season1 season2 season3 budget_grp_new race sex 
rae_person_new age_cat fqhc bh_oth17 bh_oth18 bh_oth19 bh_er17 bh_er18 bh_er19 bh_hosp17 bh_hosp18 
bh_hosp19 adj_pd_total_17cat adj_pd_total_18cat adj_pd_total_19cat / dist=gamma link=log ;
MPRINT(HURDLE):   REPEATED SUBJECT = mcaid_id / type = exch;
MPRINT(HURDLE):   store out.cost_pc_cmodel_exch;
MPRINT(HURDLE):   output out = cost_pc_c_predout_exch reschi = pearson_resid pred = predicted_cost 
STDRESCHI = STDRESCHI xbeta=xbeta;
MPRINT(HURDLE):   RUN;

NOTE: The DESCENDING option applies only to the multinomial distribution with ordinal response.
NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: Algorithm converged.
NOTE: Algorithm converged.
NOTE: The GENMOD procedure generated the model item store OUT.COST_PC_CMODEL_EXCH.
NOTE: The data set WORK.COST_PC_C_PREDOUT_EXCH has 6886668 observations and 43 variables.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           9:48.33
      cpu time            9:47.71
      

MPRINT(HURDLE):   TITLE;
MPRINT(HURDLE):   * OUT:[intgroup] IN :[&dat &dat] the group of interest (int, time-invariant 
intervention status) is set twice, the top in the stack will be recoded as not participants 
(unexposed) the bottom group keeps the int=1 status------------------------------------------------ 
;
MPRINT(HURDLE):   data intgroup;
MPRINT(HURDLE):   set data.utilization data.utilization (in = b);
MPRINT(HURDLE):   where int_imp = 1;
MPRINT(HURDLE):   if ^b then int_imp = 0;
MPRINT(HURDLE):   exposed = b;
MPRINT(HURDLE):   run;

NOTE: There were 1826819 observations read from the data set DATA.UTILIZATION.
      WHERE int_imp=1;
NOTE: There were 1826819 observations read from the data set DATA.UTILIZATION.
      WHERE int_imp=1;
NOTE: The data set WORK.INTGROUP has 3653638 observations and 40 variables.
NOTE: DATA statement used (Total process time):
      real time           2.96 seconds
      cpu time            2.89 seconds
      

MPRINT(HURDLE):   * the predictions for util and cost will be made for each person twice, once 
exposed and once unexposed;
MPRINT(HURDLE):   * OUT:[P_INTGROUP] IN :[out=out.&dv._pmodel] prob of 
util------------------------------------------------ ;
MPRINT(HURDLE):   proc plm restore=out.cost_pc_pmodel_exch ;
MPRINT(HURDLE):   score data=intgroup out=p_intgroup predicted=p_prob / ilink;
MPRINT(HURDLE):   run;

NOTE: The data set WORK.P_INTGROUP has 3653638 observations and 41 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           8.34 seconds
      cpu time            8.17 seconds
      

MPRINT(HURDLE):   * OUT:[CP_INTGROUP] IN :[out=out.&dv._cmodel] prob of cost 
-------------------------------------------------;
MPRINT(HURDLE):   proc plm restore=out.cost_pc_cmodel_exch ;
MPRINT(HURDLE):   score data=p_intgroup out=cp_intgroup predicted=p_cost / ilink;
MPRINT(HURDLE):   run;

NOTE: The data set WORK.CP_INTGROUP has 3653638 observations and 42 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           7.92 seconds
      cpu time            7.90 seconds
      

MPRINT(HURDLE):   * OUT:[out.&dv._mean] IN:[cp_intgroup] Person average cost is 
calculated------------------------------;
MPRINT(HURDLE):   data out.cost_pc_mean_exch ;
MPRINT(HURDLE):   set cp_intgroup;
MPRINT(HURDLE):   a_cost = p_prob*p_cost;
MPRINT(HURDLE):  * (1-p term = 0);
MPRINT(HURDLE):   run;

NOTE: There were 3653638 observations read from the data set WORK.CP_INTGROUP.
NOTE: The data set OUT.COST_PC_MEAN_EXCH has 3653638 observations and 43 variables.
NOTE: DATA statement used (Total process time):
      real time           9.52 seconds
      cpu time            1.17 seconds
      

MPRINT(HURDLE):   * OUT:[out.&dv._avp] IN:[out.&dv._mean] Group average cost is calculated and 
contrasted-----------------;
MPRINT(HURDLE):   proc sql;
MPRINT(HURDLE):   create table out.cost_pc_avp_exch as select mean(case when exposed=1 then a_cost 
else . end ) as cost_exposed, mean(case when exposed=0 then a_cost else . end ) as cost_unexposed, 
calculated cost_exposed - calculated cost_unexposed as cost_diff from out.cost_pc_mean_exch;
NOTE: Table OUT.COST_PC_AVP_EXCH created, with 1 rows and 3 columns.

MPRINT(HURDLE):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           6.67 seconds
      cpu time            0.43 seconds
      

MPRINT(HURDLE):   PROC PRINTTO;
MPRINT(HURDLE):   RUN;

