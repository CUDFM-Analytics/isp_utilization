NOTE: PROCEDURE PRINTTO used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(HURDLE1_GM_V_GEE):   ODS PDF FILE = 
"S:/FHPC/DATA/HCPF_Data_files_SECURE/Kim/isp/isp_utilization/reports/cost_pc_gm_v_gee_2023-06-29.pdf
" STARTPAGE = no style=journal;
NOTE: Writing ODS PDF output to DISK destination 
      "S:\FHPC\DATA\HCPF_Data_files_SECURE\Kim\isp\isp_utilization\reports\cost_pc_gm_v_gee_2023-06-
      29.pdf", printer "PDF".
MPRINT(HURDLE1_GM_V_GEE):   Title "cost_pc";
MPRINT(HURDLE1_GM_V_GEE):   footnote "2023-06-29";
MPRINT(HURDLE1_GM_V_GEE):   ods text = "Date: 2023-06-29";
MPRINT(HURDLE1_GM_V_GEE):   ods text = "Script: macro_cost_dvs_gm_vs_gee.sas";
MPRINT(HURDLE1_GM_V_GEE):   ods text = "Log File: 
S:/FHPC/DATA/HCPF_Data_files_SECURE/Kim/isp/isp_utilization/code/cost_pc_gm_v_gee_2023-06-29.log";
WARNING: The TITLE statement is ambiguous due to invalid options or unquoted text.
MPRINT(HURDLE1_GM_V_GEE):   TITLE "Probability Model: " cost_pc;
MPRINT(HURDLE1_GM_V_GEE):   PROC GENMOD DATA = data.analysis DESC;
MPRINT(HURDLE1_GM_V_GEE):   CLASS mcaid_id int(ref="0") int_imp(ref="0") budget_grp_num_r race sex 
rae_person_new age_cat_num fqhc(ref ="0") bh_oth16(ref="0") bh_oth17(ref="0") bh_oth18(ref="0") 
bh_er16(ref="0") bh_er17(ref="0") bh_er18(ref="0") bh_hosp16(ref="0") bh_hosp17(ref="0") 
bh_hosp18(ref="0") adj_pd_total_16cat(ref="0") adj_pd_total_17cat(ref="0") 
adj_pd_total_18cat(ref="0") ind_pc_cost(ref= "0") ;
MPRINT(HURDLE1_GM_V_GEE):   MODEL ind_pc_cost = int int_imp time budget_grp_num_r race sex 
rae_person_new age_cat_num fqhc bh_oth16 bh_oth17 bh_oth18 bh_er16 bh_er17 bh_er18 bh_hosp16 
bh_hosp17 bh_hosp18 adj_pd_total_16cat adj_pd_total_17cat adj_pd_total_18cat / DIST=binomial 
LINK=logit ;
MPRINT(HURDLE1_GM_V_GEE):   REPEATED SUBJECT = mcaid_id / type=exch ;
MPRINT(HURDLE1_GM_V_GEE):   store out=out.cost_pc_genmod_pmodel;
MPRINT(HURDLE1_GM_V_GEE):   run;

NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: PROC GENMOD is modeling the probability that ind_pc_cost='1'.
NOTE: Algorithm converged.
NOTE: Algorithm converged.
NOTE: The GENMOD procedure generated the model item store OUT.COST_PC_GENMOD_PMODEL.
NOTE: PROCEDURE GENMOD used (Total process time):
      real time           11:07.97
      cpu time            10:07.57
      

MPRINT(HURDLE1_GM_V_GEE):   * positive cost model ;
WARNING: The TITLE statement is ambiguous due to invalid options or unquoted text.
MPRINT(HURDLE1_GM_V_GEE):   TITLE "Cost Model: " cost_pc;
MPRINT(HURDLE1_GM_V_GEE):   PROC GEE DATA = data.analysis desc;
MPRINT(HURDLE1_GM_V_GEE):   WHERE adj_pd_pc_tc > 0;
MPRINT(HURDLE1_GM_V_GEE):   CLASS mcaid_id int(ref="0") int_imp(ref="0") budget_grp_num_r race sex 
rae_person_new age_cat_num fqhc(ref ="0") bh_oth16(ref="0") bh_oth17(ref="0") bh_oth18(ref="0") 
bh_er16(ref="0") bh_er17(ref="0") bh_er18(ref="0") bh_hosp16(ref="0") bh_hosp17(ref="0") 
bh_hosp18(ref="0") adj_pd_total_16cat(ref="0") adj_pd_total_17cat(ref="0") 
adj_pd_total_18cat(ref="0");
MPRINT(HURDLE1_GM_V_GEE):   MODEL adj_pd_pc_tc = time season1 season2 season3 int int_imp 
age_cat_num race sex budget_grp_num_r fqhc rae_person_new bh_er16 bh_er17 bh_er18 bh_hosp16 
bh_hosp17 bh_hosp18 bh_oth16 bh_oth17 bh_oth18 adj_pd_total_16cat adj_pd_total_17cat 
adj_pd_total_18cat / dist = gamma link = log ;
MPRINT(HURDLE1_GM_V_GEE):   REPEATED SUBJECT = mcaid_id / type = exch;
MPRINT(HURDLE1_GM_V_GEE):   store out=out.cost_pc_genmod_cmodel;
MPRINT(HURDLE1_GM_V_GEE):   RUN;

NOTE: Class levels for some variables were not printed due to excessive size.
NOTE: The GEE procedure generated the model item store OUT.COST_PC_GENMOD_CMODEL.
NOTE: PROCEDURE GEE used (Total process time):
      real time           5:57.37
      cpu time            5:56.87
      

MPRINT(HURDLE1_GM_V_GEE):   TITLE;
MPRINT(HURDLE1_GM_V_GEE):   * interest group ;
MPRINT(HURDLE1_GM_V_GEE):   * the group of interest (time invariant ISP participation) is set 
twice, the top in the stack will be recoded as not emancipated (unexposed) the bottom group keeps 
the emancipated status;
MPRINT(HURDLE1_GM_V_GEE):   data intgroup;
MPRINT(HURDLE1_GM_V_GEE):   set data.analysis data.analysis (in = b);
MPRINT(HURDLE1_GM_V_GEE):   where int = 1;
MPRINT(HURDLE1_GM_V_GEE):   if ^b then int = 0;
MPRINT(HURDLE1_GM_V_GEE):   exposed = b;
MPRINT(HURDLE1_GM_V_GEE):   run;

NOTE: There were 1893477 observations read from the data set DATA.ANALYSIS.
      WHERE int=1;
NOTE: There were 1893477 observations read from the data set DATA.ANALYSIS.
      WHERE int=1;
NOTE: The data set WORK.INTGROUP has 3786954 observations and 55 variables.
NOTE: DATA statement used (Total process time):
      real time           4.49 seconds
      cpu time            4.48 seconds
      

MPRINT(HURDLE1_GM_V_GEE):   * the predictions for util and cost will be made for each person twice, 
once exposed and once unexposed;
MPRINT(HURDLE1_GM_V_GEE):   * prob of util ;
MPRINT(HURDLE1_GM_V_GEE):   proc plm restore=out.cost_pc_genmod_pmodel;
MPRINT(HURDLE1_GM_V_GEE):   score data=intgroup out=p_intgroup predicted=p_prob / ilink;
MPRINT(HURDLE1_GM_V_GEE):   run;

NOTE: The data set WORK.P_INTGROUP has 3786954 observations and 56 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           9.32 seconds
      cpu time            9.14 seconds
      

MPRINT(HURDLE1_GM_V_GEE):   * prob of cost ;
MPRINT(HURDLE1_GM_V_GEE):   proc plm restore=out.cost_pc_genmod_cmodel;
MPRINT(HURDLE1_GM_V_GEE):   score data=p_intgroup out=cp_intgroup predicted=p_cost / ilink;
MPRINT(HURDLE1_GM_V_GEE):   run;

NOTE: The data set WORK.CP_INTGROUP has 3786954 observations and 57 variables.
NOTE: PROCEDURE PLM used (Total process time):
      real time           8.84 seconds
      cpu time            8.75 seconds
      

MPRINT(HURDLE1_GM_V_GEE):   * person average cost is calculated ;
MPRINT(HURDLE1_GM_V_GEE):   data out.cost_pc_mean_gm;
MPRINT(HURDLE1_GM_V_GEE):   set cp_intgroup;
MPRINT(HURDLE1_GM_V_GEE):   a_cost = p_prob*p_cost;
MPRINT(HURDLE1_GM_V_GEE):  * (1-p term = 0);
MPRINT(HURDLE1_GM_V_GEE):   run;

NOTE: There were 3786954 observations read from the data set WORK.CP_INTGROUP.
NOTE: The data set OUT.COST_PC_MEAN_GM has 3786954 observations and 58 variables.
NOTE: DATA statement used (Total process time):
      real time           23.53 seconds
      cpu time            2.25 seconds
      

MPRINT(HURDLE1_GM_V_GEE):   * group average cost is calculated and contrasted ;
MPRINT(HURDLE1_GM_V_GEE):   proc sql;
MPRINT(HURDLE1_GM_V_GEE):   create table out.cost_pc_avp_gm as select mean(case when exposed=1 then 
a_cost else . end ) as cost_exposed, mean(case when exposed=0 then a_cost else . end ) as 
cost_unexposed, calculated cost_exposed - calculated cost_unexposed as cost_diff from 
out.cost_pc_mean_gm;
NOTE: Table OUT.COST_PC_AVP_GM created, with 1 rows and 3 columns.

MPRINT(HURDLE1_GM_V_GEE):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           16.36 seconds
      cpu time            0.68 seconds
      

MPRINT(HURDLE1_GM_V_GEE):   TITLE "cost_pc_avp";
MPRINT(HURDLE1_GM_V_GEE):   proc print data = out.cost_pc_avp_gm;
MPRINT(HURDLE1_GM_V_GEE):   run;

NOTE: There were 1 observations read from the data set OUT.COST_PC_AVP_GM.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(HURDLE1_GM_V_GEE):   proc means data = out.cost_pc_mean_gm;
MPRINT(HURDLE1_GM_V_GEE):   by exposed;
MPRINT(HURDLE1_GM_V_GEE):   var p_prob p_cost a_cost;
MPRINT(HURDLE1_GM_V_GEE):   RUN;

NOTE: There were 3786954 observations read from the data set OUT.COST_PC_MEAN_GM.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.73 seconds
      cpu time            1.75 seconds
      

MPRINT(HURDLE1_GM_V_GEE):   PROC PRINTTO;
MPRINT(HURDLE1_GM_V_GEE):   RUN;

